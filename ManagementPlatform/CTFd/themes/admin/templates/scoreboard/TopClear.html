<table id="scoreboard" class="table table-striped border">
    <thead>
        <tr>
            <th class="border-right" data-checkbox>
                <div class="form-check text-center">
                    <input type="checkbox" class="form-check-input" id="scoreboard-bulk-select" autocomplete="off" data-checkbox-all>&nbsp;
                </div>
            </th>
            <th class="sort-col text-center"><b>Team ID</b></th>
            <th class="sort-col"><b>Team Name</b></th>
            <th>Solve Count</th>
            <th class="sort-col"><b>Last Submission Time</b></th>
        </tr>
    </thead>
    <tbody>
        {% for topic, teams in top_solves_with_topics.items() %}
            <!-- Display the topic name as a row spanning all columns -->
            <tr>
                <td colspan="4" class="font-weight-bold">{{ topic }}</td>
            </tr>
            {% for team in teams %}
            <tr name="{{ team[0] }}" data-href="{{ url_for('admin.teams_detail', team_id=team[0]) }}">
                <td>
                    <div class="form-check text-center">
                        <input type="checkbox" class="form-check-input" name="select-team" autocomplete="off">&nbsp;
                    </div>
                </td>
                <td class="team-id text-center">{{ team[0] }}</td>
                <td class="team-name">
                    <a href="{{ url_for('admin.teams_detail', team_id=team[0]) }}">
                        {{ team[1] | truncate(32) }}
                    </a>
                </td>
                <td class="team-solve_count">
                        {{ team[2] }}
                </td>
                <td class="last-submission-time">
                    {{ team[3].strftime("%Y-%m-%d %H:%M:%S") if team[2] else 'N/A' }}
                </td>
            </tr>
            {% endfor %}
        {% else %}
            <!-- If there are no teams, show a message -->
            <tr>
                <td colspan="4" class="text-center">No teams available for this topic.</td>
            </tr>
        {% endfor %}
    </tbody>
</table>